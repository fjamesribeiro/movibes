<!-- partials/like_button.html -->
<!-- Este partial é retornado via HTMX quando o usuário curte/descurte uma inscrição -->
{% if is_liked %}
  <!-- Estado: Usuário JÁ curtiu - mostra coração preenchido -->
  <form hx-post="{% url 'like_inscricao' inscricao.id %}"
        hx-swap="outerHTML"
        hx-target="closest form">
    {% csrf_token %}
    <button type="submit"
            class="w-9 h-9 flex items-center justify-center rounded-full bg-pink-600 text-white transition-all border border-pink-500 group hover:bg-pink-700"
            title="Descurtir">
      <svg class="w-5 h-5 transform group-hover:scale-110 transition-transform"
           fill="currentColor"
           viewBox="0 0 20 20">
        <path fill-rule="evenodd"
              d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
              clip-rule="evenodd"></path>
      </svg>
    </button>
  </form>
{% else %}
  <!-- Estado: Usuário NÃO curtiu - mostra coração vazio -->
  <form hx-post="{% url 'like_inscricao' inscricao.id %}"
        hx-swap="outerHTML"
        hx-target="closest form">
    {% csrf_token %}
    <button type="submit"
            class="w-9 h-9 flex items-center justify-center rounded-full bg-gray-800 hover:bg-pink-600 text-gray-400 hover:text-white transition-all border border-gray-600 hover:border-pink-500 group"
            title="Curtir">
      <svg class="w-5 h-5 transform group-hover:scale-110 transition-transform"
           fill="none"
           stroke="currentColor"
           viewBox="0 0 24 24">
        <path stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
      </svg>
    </button>
  </form>
{% endif %}
